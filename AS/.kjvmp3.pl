# kjvmp3 config file

my $who = 'Alexander Scourby';	 # artist of this recording
my $file = 'Revelations 22.mp3'; # file unique to this recording
-f $file
    or die "$file not found, are you sure this is $who?";

return {
    mp3file => sub {
	my($book, $chap) = @_;
	# tweaks to match zip filenames as/of 2024
	$book =~ s/^III /3/ or $book =~ s/^II /2/ or  $book =~ s/^I /1/;
	$book =~ s/ of John//;
	$book =~ s/^([123])(\S+)/$1 $2/;
	$book =~ s/Psalms/Psalm/;
	$book =~ s/(Revelation)\b/$1s/;
	for my $n (3, 2, 1) {
	    my $file = sprintf "%s %0${n}d.mp3", $book, $chap;
	    grep /^$file$/, @mp3 and return $file;
	}
	# 1 chapter books:
	grep /^$book.mp3$/, @mp3 and return "$book.mp3";
	return 0;
    },
    length => sub {
	my($sec, $chap, $next) = @_;
	(my $book = $chap) =~ s/ Chapter.*//;
	# warn "config $sec $chap $next\n";
	
	# book closing statement runs longer past the text
	$next =~ /^$book / or return $sec - 7;

	# 2 second silent tail
	return $sec - 2;
    },
};

# optional text/audio sync points follow in format:

# AbbreviatedBook
# Chapter:Verse Minutes:Seconds
# Chapter.Verse Minutes.Seconds

__END__

Judg
14.8 1.00
14.19 3.03
19.16 2.21
19.22 3.16
19.29 4.36
20.08 0.56
20.12 1.27
20.18 2.16
20.26 3.18
20.37 5.01
21.7 0.59
21.16 2.04

Ruth
1.6 0.47
1.29 2.45
2.4 0.27
2.18 2.42
3.6 0.39
3.8 0.54
3.14 1.55
4.6 0.58
4.9 1.26
4.13 2.14
4.18 3.0

1Sam
1.4 0.35
1.9 1.14
1.19 2.42
1.24 3.33
2.12 1.42
2.18 2.39
2.22 3.12
2.27 3.57
3.11 1.39
3.15 2.16
3.19 2.55
4.10 1.33
4.19 3.05
6.10 1.46
6.19 3.27
7.9 1.27
7.13 2.11
9.11 1.52
9.15 2.32
9.25 4.31

10.9 1.42
10.14 2.25
10.17 2.52
10.26 4.29
11.4 0.30
11.12 1.54
12.16 2.43
12.20 3.23
13.5 0.37
13.8 1.11
13.11 1.36
13.17 2.43
13.19 2.59
14.4 0.31
14.19 2.47
14.24 3.32
14.33 4.54
14.36 5.29
14.47 7.21
15.6 0.42
15.10 1.25
15.20 2.56
15.24 3.44
15.32 4.58

16.6 1.00
16.14 2.26
16.19 3.06
17.4 0.25
17.12 1.36
17.20 2.30
17.28 3.41
17.30 4.04
17.32 4.17
17.38 5.13
17.55 8.00
18.5 0.28
18.10 1.20
18.12 1.40
18.17 2.07
18.22 3.01
18.28 4.05
19.4 0.27
19.8 1.10
19.12 1.47
19.18 2.26
20.11 1.47
20.24 3.45
20.35 5.27
20.41 6.08
21.8 1.12

21.10 1.39
22.3 0.20
22.5 0.37
22.9 1.24
22.17 2.32
22.20 3.11
23.7 0.52
23.9 1.10
23.13 1.49
23.16 2.19
23.19 2.43
23.27 4.05
23.29 4.20
24.9 1.21
24.16 2.30
25.4 0.38
25.10 1.29
25.14 2.06
25.18 2.41
25.32 5.16
25.36 5.56
25.39 6.24
25.44 7.13
26.5 0.31
26.13 2.09
26.21 3.38

27.5 0.41
27.8 1.04
28.3 0.22
28.7 0.58
28.15 2.26
28.21 3.48
29.6 0.59
29.8 1.22
30.3 0.17
30.11 1.21
30.16 2.11
30.21 2.54
30.26 3.48
31.7 0.51
31.11 1.31

2Sam
1.13 1.43
1.17 2.14
2.5 0.38
2.8 1.06
2.12 1.36
2.18 2.30
2.25 3.39
2.32 4.44
3.2 0.11
3.6 0.38

3.12 1.35
3.17 2.23
3.22 3.15
3.28 4.11
3.31 4.40
4.9 1.18
5.4 0.28
5.6 0.43
5.11 1.30
5.13 1.45
5.17 2.09
5.22 2.54
6.6 0.46
6.12 1.29
6.17 2.12
6.20 2.41
7.4 0.23
7.12 1.44
7.18 2.36
8.3 0.23
8.9 1.09
8.14 1.52
9.5 0.37
9.7 0.56
9.9 1.17
10.6 0.56

10.15 2.13
11.2 0.17
11.6 0.56
11.14 2.15
11.18 2.46
11.22 3.21
11.26 3.59
12.7 0.56
12.15 2.28
12.24 4.14
12.26 4.31
13.6 0.52
13.15 2.10
13.19 2.47
13.21 3.11
13.23 3.24
13.28 4.03
13.30 4.27
13.37 5.32
14.4 0.28
14.21 3.36
14.25 4.15
14.28 4.43
15.7 0.54
15.10 1.19
15.13 1.48

15.19 2.36
15.24 3.35
15.30 4.31
15.31 4.45
15.32 4.57
16.5 0.54
16.9 1.34
16.15 2.33
16.20 3.15
17.15 2.15
17.23 3.40
17.25 4.01
17.27 4.18
18.6 1.01
18.9 1.21
18.18 2.50
18.19 3.07
18.33 5.27
19.9 1.27
19.11 1.46
19.16 2.40
19.24 3.58
19.31 5.10
19.41 6.50
20.3 0.26
20.4 0.41

20.14 2.23
20.16 2.43
20.23 4.01
21.10 1.47
21.12 2.07
21.15 2.40
22.25 2.28
23.6 0.51
23.8 1.06
23.21 3.16
24.5 0.42
24.10 1.24
24.15 2.22
24.18 3.07

1Kgs
1.5 0.40
1.11 1.33
1.15 2.11
1.22 3.05
1.28 3.56
1.32 4.30
1.41 5.58
1.50 7.16
2.12 2.13
2.19 3.06
2.26 4.16

2.28 4.44
2.35 6.12
3.5 0.38
3.16 2.41
4.7 0.35
4.20 1.59
4.22 2.18
4.26 2.54
4.29 3.16
5.7 1.01
5.13 1.59
6.5 0.37
6.11 1.37
6.23 3.16
6.31 4.13
6.36 4.54
7.7 0.45
7.13 1.37
7.23 3.07
7.27 3.53
7.38 5.35
7.40 5.57
8.12 1.39
8.22 3.00
8.31 5.02

